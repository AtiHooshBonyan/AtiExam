@using AtiExamSite.Models.DomainModels.Exam
@model Exam

@{
    ViewData["Title"] = "Exam Score";
    var score = ViewBag.Score != null ? Convert.ToDouble(ViewBag.Score) : 0.0;
    var passed = ViewBag.Passed != null ? (bool)ViewBag.Passed : false;

    // Color based on score (optional)
    var scoreColor = score >= 90 ? "success" : score >= 70 ? "warning" : "danger";

    // Pass/fail text and color
    var statusText = passed ? "Passed ✅" : "Failed ❌";
    var statusColor = passed ? "success" : "danger";
}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8 text-center">
            <h1 class="my-4">Your Score</h1>

            <!-- Score display -->
            <div class="alert alert-@scoreColor display-4" role="alert" aria-live="polite" aria-atomic="true">
                @score.ToString("F1")%
            </div>

            <!-- Pass/Fail display -->
            <div class="alert alert-@statusColor h4" role="alert">
                @statusText
            </div>

            <!-- Exam details -->
            <div class="mt-3 text-start">
                <p><strong>Exam:</strong> @Model.Title</p>
                <p><strong>Description:</strong> @Model.Description</p>
                <p><strong>Passing Score:</strong> @Model.PassingScore.ToString("F1")%</p>
            </div>

            <!-- Back button -->
            <a asp-action="Index" class="btn btn-outline-primary mt-4" role="button">
                <i class="fas fa-arrow-left" aria-hidden="true"></i> Back to My Exams
            </a>
        </div>
    </div>
</div>
